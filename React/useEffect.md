## useEffect

useEffect는

- componentDidMount() : 브라우저 상에 최초로 컴포넌트가 렌더링 된 시점에 호출되는 메소드

- componentDidUpdate() : state나 props가 변경되어 DOM 변화가 발생하면 호출되는 메소드

- componentWillUnmout() : 컴포넌트가 사라지거나 등록한 이벤트 리스너를 제거할 때 호출한다.

이 세개의 메소드 기능을 합친 것이다.

**기본적으로, 마운트 이후. state나 props의 변화로 재렌더링 이후. 언마운트 이전에 이루어진다.**

---

<br />

- componentDidMount()

  `마운트 => 컴포넌트가 생성되고 DOM에 추가되는 단계`

  **DidMount이기 때문에 초기 렌더링이 일어났다는 뜻이다.**

  처음 마운트(componentDidMount) 되고, useEffect 안에서 API를 호출해서 값을 받아 화면에 다시 렌더링하는 것이다.

- componentUpdate()

  `업데이트 => 컴포넌트의 상태나 프로퍼티가 변경되는 단계`

  **DidUpdate이기 때문에 업데이트이후, 즉 재렌더링 이후 특정작업을 수행한다.**

  마운트 될 뿐만 아니라 특정한 값이 변화가 일어날 때마다 특정 작업을 수행해야하는데, **함수형에서는 useEffect의 의존성배열을 이용한다.**

  "이 값이 변경될 때, 특정작업을 실행하라"

  ```
  useEffect(() => {

  }, [value]); //value 값이 바뀔 때 실행
  ```

  state가 변경되면 재렌더링이 일어나고 그 뒤에 useEffect 안에 적은 특정 작업이 다시 수행된다.

  만약 의존성 배열을 아예 적지 않는다면, 매번 재렌더링을 하게 되고, 의존성 배열에 빈배열을 넣으면 맨처름 마운트시에만 특정작업을 수행한다.

- componentWillUnMount()

  함수 안에서 수행하게 했던 특정 작업을 **컴포넌트가 화면에서 없어지는 것(언마운트)**를 기준으로 그만두게 한다.
  **(언마운트 이전 작업 소멸)**

  함수형에서는 **클린업 함수**이다.

  ```
  useEffect(() => {

      return () => {
          //클린업
      }
  }, []);
  ```

  **컴포넌트가 화면에 사라지기 직전에 함수가 수행된다.** 그래서 Did가 아니라 Will이다.

    <br />

  ### 출처

  https://hihiha2.tistory.com/169
