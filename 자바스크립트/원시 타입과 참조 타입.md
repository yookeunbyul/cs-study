## 원시 타입과 참조 타입

자바스크립트의 자료형은 크게 **원시 타입**과 **참조 타입**으로 나뉜다.

- 원시 타입

  원시 타입은 모두 **하나의 값**을 담고 있다.

  - 문자(string)
  - 숫자(number)
  - bigint
  - 불리언(boolean)
  - null
  - undefined
  - 심볼(symbol) => ES6부터 추가된 타입

  **원시 자료형은 값 자체에 대한 변경이 불가능 하지만, 변수에 데이터를 재할당 할 수 있다.**

  ```
    let myString = 'goodNews';
    myString = 'badNews'; // 재할당 가능

    myString[0] = 'B'; // 원시 타입이기 때문에 BadNews로 변경 불가능. 오류는 Throw되지 않는다.
    console.log(myString); // badNews

    let myString2 = myString; // myString 값이 myString2에 그대로 복사되어 'badNews'가 할당된다.
    console.log(myString2); // badNews

    myString2 = 20;

    console.log(myString); // badNews
    console.log(myString2); // 20
  ```

<br />

---

<br />

- 참조 타입

  참조 타입은 변수에 값을 할당하는 게 아닌 **'주소'를 저장**한다.

  배열, 객체, 함수가 대표적이다.

  변수는 주소를 저장하고 **주소는 특별한 동적인 데이터 보관함에 저장**하는데, 이 데이터 보관함이 **메모리 힙**이다.

  값을 재할당 할 경우 주소를 참조한 모든 값이 영향을 받습니다. **즉, 값이 공유됩니다.**

  ```
    let obj = {
        a: 1,
        b: 2,
        c: 3
    }

    let newObj = obj;
    newObj.a = 100; // 참조된 값 중 a의 값에 100을 재할당

    console.log(obj.a); // 100
    // 해당 주소를 참조한 newObj의 a값을 바꾸었기 때문에 두 객체 모두 반환하는 a 값이 변경됨.
  ```

  <br />

---

### 원시 타입에서 메소드 호출

```
let thisIsPrimitive = 'hello world'; // 원시타입을 할당
console.log(thisIsPrimitive.toUpperCase()); //HELLO WORLD
```

엥. 아까 원시 타입은 값 자체는 변경하는 게 안된다 그랬는데 어떻게 원시 타입임에도 메소드를 사용할 수 있지?

<br />

---

### 래퍼 객체(Wrapper Object)

원시 타입의 메서드를 호출하면,

1. 순간적으로 **원시 타입에 해당하는 '객체'가 생성**되고,

2. 이 '객체'의 메서드가 호출된다.

3. 메서드 처리가 끝나면 이 **'객체'는 사라지고**,

4. **원래의 원시 타입만 남는다**.

순간적으로 생성되었다 사라지는 객체를 래퍼 객체라고 하는데, 자바스크립트 엔진이 암묵적으로 원시 타입에 해당하는 래퍼 객체를 생성하고, 볼일이 끝나면 다시 원시 타입으로 복귀시키는 것이다.

<br />

---

### 래퍼 객체의 존재 이유

왜 처음부터 객체로 생성하면 될걸 뭐하러 래퍼 객체를?

1. 객체의 딜레마

   객체는 다양한 프로퍼티와 메서드가 있어서 유용하지만, 무겁고 느리다는 단점이 있다.

2. 원시 타입의 딜레마

   원시 타입은 가볍고 빠르지만, 그냥 값 하나뿐이라는 단점이 있다.

3. 해결책(?)

   원시 타입을 그대로 쓰자! 대신, 메서드를 호출할 때만 잠깐 객체로 바꾸자.

<br />

```
즉, 원시 타입의 가벼움은 유지하면서, 객체의 유용한 기능도 쓰기 위한 방법입니다. 따라서, 특별한 경우를 제외하면, 객체를 따로 생성할 필요 없이, 원시 타입을 그대로 사용하는 게 권장됩니다.
```

<br />

### 출처

https://charming-kyu.tistory.com/20
